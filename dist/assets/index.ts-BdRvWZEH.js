chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}).catch(e=>console.error("Error setting panel behavior:",e));chrome.runtime.onMessage.addListener((e,o,r)=>{if(e.action==="insertPrompt")return chrome.tabs.query({active:!0,currentWindow:!0},t=>{t[0]?.id?chrome.tabs.sendMessage(t[0].id,{action:"insertPrompt",text:e.text},i=>{chrome.runtime.lastError?r({success:!1,error:"ไม่สามารถเชื่อมต่อกับหน้าเว็บได้"}):r(i)}):r({success:!1,error:"ไม่พบ active tab"})}),!0});console.log("FlowMate background service worker initialized");
